<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Pegasi â€” Untitled*</title>
    <link rel="stylesheet" href="./index.css">
  </head>
  <body>
    <div style="width: 100%; height: 2rem; border-bottom: 1px solid black; display: flex; padding: 4px 8px; justify-content: space-between; background-color: var(--color-background-alt);">
      <div>
        File
      </div>

      <div>
        =
      </div>
    </div>
    <div style="display: flex; position: relative;">
      <div class="canvas">      
        <div class="card active">
          <div>
            Animation Source (test) <i style="opacity: 0.2;">Type: Audiovisual Sequence</i>
          </div>
          <div style="display: flex; gap: 8px">
            <div class="feed" style="padding: 0">
              <video id="videoPlayer" controls style="height: 100%">
                <source src="./testing/videos/angelina.mp4">      
                Something went wrong with the video embed
              </video>
            </div>
            <div style="width: 1rem; height: 100%; background-color: #fff3; border-radius: 8px;"></div>
          </div>
        </div>
    
        <div class="card">
          <div>
            Untitled Scene <i style="opacity: 0.2;">Type: Static</i>
          </div>
          <div class="feed">
            <span style="opacity: 0.3;">No file selected</span>
          </div>
        </div>

        <div class="card" style="width: 30rem; font-size: 1rem; opacity: .5; justify-content: center; align-items: center; text-align: center;">
          + <br>
          Add new Scene
        </div>
      </div>

      <!-- Toolset -->
      <div class="preview">
        Light-plan Preview: Disabled<br>

        Gabby: <i style="opacity: 0.3;">Disconnected</i> <br>
        Baudrate: <span style="opacity: 0.3;">460.8kbps</span> <br>
        FPS: <span style="opacity: 0.3;">24</span> <hr>
        Console: <i style="opacity: 0.3;">Disconnected</i> <br>
        Baudrate: <span style="opacity: 0.3;">Bluetooth</span> <br>
        <hr>
        Scene cross-fade: <span style="opacity: 0.3;">1.2s</span> <br>
        <hr>
        <b>Current:</b> <i>Animation Source</i> <i style="color: #11b96b;">Live</i> <br>

        Sound sync: <span style="opacity: 0.3;">105ms</span>
        <input type="range" id="volume" name="volume" min="0.0" max="1000.0" style="width: 100%;"/>
      </div>
    </div>
    <script>
      const video = document.getElementById('videoPlayer');

      video.addEventListener('play', () => {
        const tick = () => {
          if (!video.paused && !video.ended) {
            console.log('Video time:', video.currentTime.toFixed(3));
            requestAnimationFrame(tick);
          }
        }
        requestAnimationFrame(tick);
      });
    </script>      
  </body>
</html>
